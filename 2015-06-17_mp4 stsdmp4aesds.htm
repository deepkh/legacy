<blockquote>
<p><span style="color: #339966;">00 00 00 27 65 73 64 73 00 00 00 00 <span style="color: #3366ff;">03 19 00 02 ; ...'esds........</span></span></p>
<p><span style="color: #339966;"><span style="color: #3366ff;">00</span> <span style="color: #ff0000;">04 11 40 15 00 06 00 00 01 F4 00 00 01 F4 00</span> ; ...@............</span></p>
<p><span style="color: #339966;"><span style="color: #ff9900;">05 02 12 10</span> <span style="color: #99cc00;"><span style="color: #339966;"><span style="color: #33cccc;">06 01 02</span> </span>&nbsp; </span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; .......</span></p>
<p><span style="color: #339966;"><strong>Atom Box</strong><strong>:<br /> </strong></span><span style="color: #339966;">00 00 00 27 (</span><span style="color: #339966;">box size)</span><span style="color: #339966;">&nbsp;65 73 64 73 ('esds') 00 00 00 00 (version + flag)</span></p>
<p><span style="color: #339966;"><span style="color: #3366ff;">ES descriptor:<br /> 03 (tag) 19 (tag size) 00 02 (track_id)&nbsp;</span></span><span style="color: #3366ff;">00 (flag)</span></p>
<p><span style="color: #ff0000;">DecoderConfig descriptor:<br /> </span><span style="color: #ff0000;">04 (tag) 11 (tag size) 40 (MPEG-4 audio) 15 (audio stream) 00 06 00&nbsp;</span><span style="color: #ff0000;">(Buffersize DB)&nbsp;</span><span style="color: #ff0000;">&nbsp;00 01 F4 00 (max bitrate 128000) 00 01 F4 00 (avg bitrate 128000)</span></p>
<p><span style="color: #ff0000;"><span style="color: #ff9900;">DecoderSpecific info descriptor<br /> 05 (tag) 02 (tag size) 12 10 (Audio Specific Config)<br /> </span></span></p>
<p><span style="color: #ff9900;">Audio Specific Config:</span><span style="color: #ff9900;"><br /> 5 bits: object type<br /> </span><span style="color: #ff9900;">4 bits: frequency index<br /> </span><span style="color: #ff9900;">4 bits: channel configuration<br /> </span><span style="color: #ff9900;">1 bit: frame length flag<br /> </span><span style="color: #ff9900;">1 bit: dependsOnCoreCoder<br /> </span><span style="color: #ff9900;">1 bit: extensionFlag</span></p>
<p><span style="color: #ff9900;">Audio Object Types<br /> </span><span style="color: #ff9900;">MPEG-4 Audio Object Types:<br /> </span><span style="color: #ff9900;">0: Null<br /> </span><span style="color: #ff9900;">1: AAC Main<br /> </span><span style="color: #ff9900;">2: AAC LC (Low Complexity)<br /> </span><span style="color: #ff9900;">3: AAC SSR (Scalable Sample Rate)<br /> </span><span style="color: #ff9900;">4: ...&nbsp;</span></p>
<p><span style="color: #ff9900;">Sampling Frequencies<br /> </span><span style="color: #ff9900;">0: 96000 Hz<br /> </span><span style="color: #ff9900;">1: 88200 Hz<br /> </span><span style="color: #ff9900;">2: 64000 Hz<br /> </span><span style="color: #ff9900;">3: 48000 Hz<br /> </span><span style="color: #ff9900;">4: 44100 Hz<br /> </span><span style="color: #ff9900;">5: ...&nbsp;<br /> </span></p>
<p><span style="color: #ff9900;">Channel Configurations<br /> </span><span style="color: #ff9900;">0: Defined in AOT Specifc Config<br /> </span><span style="color: #ff9900;">1: 1 channel: front-center<br /> </span><span style="color: #ff9900;">2: 2 channels: front-left, front-right<br /> </span><span style="color: #ff9900;">3: 3 channels: front-center, front-left, front-right</span><span style="color: #ff9900;">&nbsp;<br /> 4: ... &nbsp;<br /> </span></p>
<p><span style="color: #ff9900;">frame length flag:<br /> </span><span style="color: #ff9900;">0: Each packet contains 1024 samples<br /> </span><span style="color: #ff9900;">1: Each packet contains 960 samples</span></p>
<p><span style="color: #ff9900;">Example:<br /> 1210h = 000</span><span style="color: #ff9900;">10010 00010000b =&nbsp;</span><span style="color: #ff9900;">000</span><span style="color: #ff9900;">10(</span><span style="color: #ff9900;">AAC LC) &nbsp;</span><span style="color: #ff9900;">010 0 (44100Hz) &nbsp;</span><span style="color: #ff9900;">0010 (strero) 0 (</span><span style="color: #ff9900;"><span style="color: #ff9900;">1024 samples) 00 ( ? )</span></span></p>
<p><span style="color: #33cccc;"><span style="color: #33cccc;">SL descriptor</span><br /> <span style="color: #33cccc;">06 (tag) 01 (tag size) 02 (always 2 refer from </span></span><span style="color: #33cccc;">mov_write_esds_tag</span><span style="color: #33cccc;"><span style="color: #33cccc;">);</span></span></p>
<p><span style="color: #ff9900;">&nbsp;</span></p>
<p>Reference:<br />ffmpeg-2.7/libavformat/movenc.c &nbsp;mov_write_esds_tag<br />http://wiki.multimedia.cx/?title=Understanding_AAC<br />http://wiki.multimedia.cx/index.php?title=MPEG-4_Audio<br /></p>
</blockquote>
